<!--              ___                 ___               -->
<!--        _____/___\_____        __|___|__            -->
<!--        """"("-_-")""""         ( o_o )      ~      -->
<!--          /\_)=o~/              _\~-~/_   _ _~      -->
<!--         / /\\\///\      ~     / \/|\/ \/\(|_|      -->
<!--         \__|\\//\ \   ~      / |.   .|\_/          -->
<!--  __________|//\\/_/___~______\_\_____|_____        -->
<!--           _______   |_|)      _______              -->
<!--           \_____/             \_____/              -->


<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Nova | Efece Galvaniz</title>

    <link rel="icon" type="image/x-icon" href="/assets/img/icons/brands/Nova_White.png" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">

    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>

    <style>
        @@media screen and (max-width: 600px) {
            .marquee-w {
                top: 30vh;
                position: relative;
                width: 100%;
                height: 25px;
                margin: 0 auto;
                overflow: hidden;
            }
        }

        .marquee {
            position: absolute;
            bottom: 2.5rem;
            height: 20px;
            width: 100%;
            overflow: hidden;
        }

            .marquee div {
                display: block;
                width: 1000%;
                height: 30px;
                position: absolute;
                overflow: hidden;
                animation: marquee 120s linear infinite;
            }

                .marquee div:hover {
                    -webkit-animation-play-state: paused;
                    -moz-animation-play-state: paused;
                    -o-animation-play-state: paused;
                    animation-play-state: paused;
                    cursor: pointer;
                }

            .marquee span {
                margin-left: 1%;
                float: left;
                width: 50%;
            }

        @@keyframes marquee {
            0% {
                left: 100%;
            }

            100% {
                left: -400%;
            }
        }

        :root {
            --empty-bg-color: #070B1C;
            --empty-text-color: #ffffff;
            --empty-header-color: #0e1535;
            --empty-border-color: #263881;
            --empty-infobox-color: #070B1C;
            --empty-border-radius: 0.5rem;
            --sb-track-color: #0e1535;
            --sb-thumb-color: #263881;
            --sb-size: 10px;
        }

        * {
            scrollbar-color: var(--sb-thumb-color) var(--sb-track-color);
        }

            *::-webkit-scrollbar {
                height: var(--sb-size);
                width: 7px;
            }

            *::-webkit-scrollbar-track {
                background: var(--sb-track-color);
                border-radius: 10px;
            }

            *::-webkit-scrollbar-thumb {
                background: var(--sb-thumb-color);
                border-radius: 10px;
            }

        html {
            height: 100%;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            position: relative;
            min-height: 100vh;
            padding-bottom: 2.5rem;
            background-color: var(--empty-bg-color);
            color: var(--empty-text-color);
        }

        .header {
            height: 45px;
            background-color: var(--empty-header-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 1rem;
        }

            .header .options {
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 5px;
            }

        .content {
            min-height: calc(100svh - 3.25rem - 45px);
            padding: 0.5rem;
        }

        .page {
            display: none;
        }

        .footer {
            padding: 0;
            text-align: center;
            position: absolute;
            bottom: 0px;
            right: 0;
            left: 0;
        }

            .footer span {
                margin-top: -35px;
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 5px;
            }

        .form-select {
            color: var(--empty-text-color);
            background-color: var(--empty-bg-color);
            border: var(--bs-border-width) solid var(--empty-border-color);
        }

        .btn-outline-custom {
            border-color: var(--empty-border-color);
        }

        .home-button {
            border-color: var(--empty-border-color);
            color: var(--empty-text-color);
            background-color: var(--empty-bg-color);
            height: 2rem;
            display: flex;
            justify-content: center;
            align-items: center;
        }

            .home-button:hover {
                border-color: var(--empty-border-color);
                background-color: var(--empty-header-color) !important;
            }

        .loader-area {
            pointer-events: none;
            display: flex;
            justify-content: center;
            align-items: center;
            position: absolute;
            bottom: 0;
            right: 0;
            left: 0;
            top: 0;
        }

        .horizontal-line {
            width: 100%;
            border: var(--bs-border-width) solid var(--empty-border-color);
            margin: 0.25rem;
        }

        #nova-loader {
            display: none;
            animation: beat 0.5s infinite alternate;
        }

        @@keyframes beat {
            to {
                transform: scale(1.4);
            }
        }
    </style>

</head>
<body>
    <div class="loader-area">
        <img id="nova-loader" src="/assets/img/icons/brands/Nova.png" height="100" width="100" />
    </div>

    <div class="main">

        @RenderBody()

        <div class="marquee" onmouseover="this.stop();" onmouseout="this.start();">
            <div>
                <span>
                    <label id="AylikMiktarOzet"></label>
                    <label id="AylikHurdaOzet"></label>
                    <label id="AylikKalite2Ozet"></label>
                    <label id="YillikMiktarOzet"></label>
                    <label id="YillikHurdaOzet"></label>
                    <label id="YillikKalite2Ozet"></label>
                </span>

            </div>
        </div>

        <div class="footer">
            <span>2023 &copy; designed by <img src="/assets/img/icons/brands/Nova.png" height="25" width="25" /> NOVA</span>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/&#64popperjs/core@2"></script>
    <script src="https://unpkg.com/tippy.js@6"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment-with-locales.min.js" integrity="sha512-42PE0rd+wZ2hNXftlM78BSehIGzezNeQuzihiBCvUEB3CVxHvsShF86wBWwQORNxNINlBPuq7rG4WWhNiTVHFg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        setInterval(function () {
            $.ajax({

                url: 'http://192.168.2.13:83/api/makine/mes',
                success: function (data) {
                    if (data.length > 0) {
                        var AylikMiktarBilgi = '<label class="ms-3">AYLIK MİKTAR→ </label>';
                        var AylikHurdaBilgi = '<label class="ms-3">AYLIK HURDA→ </label>';
                        var AylikKalite2Bilgi = '<label class="ms-3">AYLIK 2. KALİTE→ </label>';

                        var YillikMiktarBilgi = '<label class="ms-3">YILLIK MİKTAR→ </label>';
                        var YillikHurdaBilgi = '<label class="ms-3">YILLIK HURDA→ </label>';
                        var YillikKalite2Bilgi = '<label class="ms-3">YILLIK 2. KALİTE→ </label>';

                        data?.forEach((item) => {
                            AylikMiktarBilgi += `<img class="mb-1" style="margin-right: 3px; margin-left: 25px; height: 15px " src="/assets/img/icons/brands/Nova.png" alt="">${item.HATKODU}: ${MiktarFormat(item.AYLIK_TOPLAM_MIKTAR, 'KG')}`;
                            AylikHurdaBilgi += `<img class="mb-1" style="margin-right: 3px; margin-left: 25px; height: 15px " src="/assets/img/icons/brands/Nova.png" alt="">${item.HATKODU}: ${MiktarFormat(item.AY_TOPLAM_HURDA, 'KG')}`;
                            AylikKalite2Bilgi += `<img class="mb-1" style="margin-right: 3px; margin-left: 25px; height: 15px " src="/assets/img/icons/brands/Nova.png" alt="">${item.HATKODU}: ${MiktarFormat(item.AY_TOPLAM_KALITE2, 'KG')}`;

                            YillikMiktarBilgi += `<img class="mb-1" style="margin-right: 3px; margin-left: 25px; height: 15px " src="/assets/img/icons/brands/Nova.png" alt="">${item.HATKODU}: ${MiktarFormat(item.YILLIK_TOPLAM_MIKTAR, 'KG')}`;
                            YillikHurdaBilgi += `<img class="mb-1" style="margin-right: 3px; margin-left: 25px; height: 15px " src="/assets/img/icons/brands/Nova.png" alt="">${item.HATKODU}: ${MiktarFormat(item.YIL_TOPLAM_HURDA, 'KG')}`;
                            YillikKalite2Bilgi += `<img class="mb-1" style="margin-right: 3px; margin-left: 25px; height: 15px " src="/assets/img/icons/brands/Nova.png" alt="">${item.HATKODU}: ${MiktarFormat(item.YIL_TOPLAM_KALITE2, 'KG')}`;
                        });

                        $('#AylikMiktarOzet').html(AylikMiktarBilgi + '<label class="ms-3">•</label>');
                        $('#AylikHurdaOzet').html(AylikHurdaBilgi + '<label class="ms-3">•</label>');
                        $('#AylikKalite2Ozet').html(AylikKalite2Bilgi + '<label class="ms-3">•</label>');

                        $('#YillikMiktarOzet').html(YillikMiktarBilgi + '<label class="ms-3">•</label>');
                        $('#YillikHurdaOzet').html(YillikHurdaBilgi + '<label class="ms-3">•</label>');
                        $('#YillikKalite2Ozet').html(YillikKalite2Bilgi + '<label class="ms-3">•</label>');
                    }
                }
            });
        }, 1000);


        function MiktarFormat(Value, Unit = '') {
            return Value !== null ? `${parseFloat(Value).toLocaleString(undefined, { minimumFractionDigits: 0, maximumFractionDigits: 0 })} ${Unit}` : '-';
        }
    </script>

    @RenderSection("Scripts", false)
</body>
</html>
